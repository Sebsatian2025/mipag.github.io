<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Administración del Sitio</title>
  <!-- Carga el script de Netlify CMS -->
  <!-- CAMBIO IMPORTANTE: Usando netlify-cms-app.js y @latest para la versión más reciente y optimizada -->
  <script src="https://unpkg.com/netlify-cms-app@latest/dist/netlify-cms-app.js"></script>
</head>
<body>
  <!-- Este div es el punto de montaje para Netlify CMS -->
  <div id="nc-root"></div>
  <script>
    // Se fuerza la inicialización de Netlify CMS con un pequeño retraso
    // Esto ayuda a asegurar que el script de CMS esté completamente cargado y el objeto CMS disponible.
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() { // Añadimos un retraso de 500ms (antes 100ms)
        if (typeof CMS !== 'undefined') { // Verifica que CMS esté definido antes de llamar init()
          CMS.init();
        } else {
          console.error("Netlify CMS object (CMS) is not defined after delay. Please check script loading and network tab.");
        }
      }, 500); // Aumentado el retraso a 500ms
    });
  </script>
</body>
</html>
